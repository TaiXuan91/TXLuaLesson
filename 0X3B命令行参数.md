# 0X3B命令行参数

## 前置知识

* 0X32模块搜寻

## 正文

### Lua解释器

由于Lua语言小巧精悍的特性,它经常被用于写脚本.而它的执行环境也可以嵌入各种各样的语言和工程之中.不过,我们也可以把它作为一门独立的语言使用.这就是独立Lua.独立Lua的虚拟机由C语言写成,在Ubuntu,Arch等发行版的软件库中就可以下载到.如果需要,也可以去官网下载源码包自行安装.

演示: 源码安装Lua虚拟机 `<>!!!!!!!!!!!!!`

直接执行命令`lua`(或者`lua5.3`什么的),会启动交互式的Lua环境.从课程一开始我们就在这里实验代码.

`lua`命令后接文件名,会尝试用Lua虚拟机执行指定脚本.这种执行方法是一般的运行Lua程序的方法.交互模式和执行脚本这两种模式中,Lua的语法大致一致.但是会有一些执行细节上的区别,例如交互模式中美哟被接收的返回值默认会显示到终端,而脚本模式不会.又例如交互模式下,每一次执行命令,都当成一个chunk编译(哪怕是很多个简单的语句顺寻执行).

### 命令行参数

`lua`的命令行参数一般加到`lua`之后,要执行的脚本名之前.

参数`-i`会在执行过脚本之后进入交互式编程环境.

参数`-e`后需要一个额外的字符串作为参数.会在执行脚本之前,把这个字符串作为Lua命令执行.例如创建脚本名为'test.lua'.其内容为:

>```lua
>print('x is',x)
>```

然后在命令行中执行

>```bash
>lua -e 'x=843' test.lua
>```

参数`-l`后也需要一个额外的字符串.它类似于`-e`.它的作用是把字符串当作模块名,在执行脚本(或者打开交互式环境)前require这个模块.例如创建脚本名为'test2.lua'.其内容为:

>```lua
>return 8899
>```

然后在命令行中输入:

>```bash
>lua -l 'test2'
>```

在启动的交互式环境中执行:

>```lua
>print(test2)
>```

参数`-v`会显示Lua的虚拟机(或者说解释器,编译器)的版本号.

### 

-E: ignores environment variables;
--: stops handling options;
-: executes stdin as a file and stops handling options.

## 后续推荐
