

函数作用表达式怎么写，中缀表达式，前缀表达式，调整运算顺序，优先级，结合性，优先级和结合性声明

函数作用类型必须匹配

模式匹配，guard

字面值也是值构造器（只不过写法特殊一点，而且预先绑定好了构造的值）。实际上可以不需要任何字面值，但是为了一般书写方便，引入了几种字面值。另外True和False就不是字面值，而是预定义构造器。

另外把负数的负号当作字面值的一部分。

变量的赋值

之前仅仅说了值构造器。没有说类型构造器。这个在讲类型系统的时候讲一下。



## 文字符号

Haskell支持UTF-8编码，因此理论上所有Unicode字符都可以往里用。但是为了简单起见，我们仅仅使用其中的很小一部分——可打印ASCII字符外加换行符LF。

> 为了保证源码的健壮和可读性，我不建议Haskell源码中出现可打印ASCII字符和LF以外的任何字符。
>
> 如果你要用Haskell处理Unicode字符，我建议不要直接把Unicode字符粘贴到源码中作为字面值。而应当使用转义字符。例如`putStrLn "\20320\22909Haskell"`。
>
> 注意如果`\`后直接写数字，那么这串数字会被当作十进制Unicode编码，如果用`\x`后接数字（和字母），这个转移序列会被当作十六进制Unicode编码。

ASCII可打印字符有95个。加上LF，我们用到的字符一共有96个。这些字符还是太多了一点，所以要分类处理。我认为可以分为以下几类：

- 小写字符 `_abcdefghijklmnopqrstuvwxyz`
- 大写字符 `ABCDEFGHIJKLMNOPQRSTUVWXYZ`
- 数字 `0123456789`
- 括号类 `()[]{}`
- 逗号类 `,;`
- 引号类 <code>'"\`</code>
- 算符类 `!#$%&*+./<=>?@\^|-~:`
- 空格 ` `
- 换行符 LF

符号就是这么多，但是组合排列起来有非常多种可能。

## 文本 Or 交互

Haskell支持两种文字游戏模式。一种是把所有的文本内容写好，然后把这个文本交给Haskell去处理。另一种是交互式的，我写一点，Haskell就处理一点，并把结果反馈给我。

一般来说，写成文本再处理更加稳妥。虽然写的时候不如交互式灵活，但是写完之后使用很方便。而交互式主要用于学习，实验和调试。

我在这个系列中展示的代码默认都是写在文本中的。但是为了展示方便，一些截图或者代码段可能是来自交互式环境的。



## 牙牙学语

假设你要拿纸和笔来玩文字游戏。你肯定得在开始之前学会写字母，拼单词，甚至造句子。如果我们一切从头开始的话，自然也应该从这些最基本的东西开始。这将消耗大量的时间。

幸好Haskell是一种专门为了方便我们玩文字游戏而存在的机器。因此，它不仅仅是代替纸和笔那么简单。已经有相当多的文字游戏规则内置于Haskell中。我们不必从头开始约定什么是字母，什么是单词，什么是句子。也不需要重新约定一个表示“两个苹果”、“二升汽油”、“地球和月球”这三者之间共同性质的符号。直接按照Haskell内置的规则开始就可以了。

为了方面表述，人们一般叫这套内置规则为Haskell语言——和这台机器同名。







Haskell这门语言和人日常交流使用的自然语言还是有很大差距的。和C，Java，Python之类的人造语言之间也存在非常大的不同，因此接下来的



基本语言



定义符号





数字固然是我们最常用的表达抽象概念的符号之一，但是并不是我们表示抽象概念的唯一手段。



一切都是函数，所以根本没有变量。所有的变量都是函数。只不过有的是常函数

关于减号

算符在写法上有一些特例。例如我们指算符本身的时候，需要给它加上括号。例如`(+)`，`（**）`。如果不加括号，默认把它们当作二元中缀运算符进行运算，例如`3+3`，`5*2`。

抛开这些特殊写法的话，算符其实没有什么特别之处。把它们当作普通的标识符使用就可以。因此我这里把算符当作标识符的补充来介绍。

## 



把负数的减号当作字面值的一部分



## 构造值





## 变量

在Haskell中的变量和类C语言中的变量很不一样。类C语言中由于有状态存储机制，一个变量就要对应一块存储空间。但是Haskell中根本没有这一套机制，所谓的变量只不过是一个占位符而已。

另外，由于Haskell的语句之间可以没有先后顺序，也不存在变量创建，删除，改变赋值之类的操作。只要保证同一个命名空间中变量的绑定不要出现冲突（不能重复绑定变量）就可以了。

## 数据构造器



## 算符





关于严格标识符<http://www.cs.toronto.edu/~trebla/personal/haskell/strict-field.xhtml>



通用中缀表达式，算符中缀

为了区分是指标识符对应的函数还是用标识符运算，需要用括号

不要把-当作运算符使用，容易出岔子

另外注意((-) 3) 2 和 (- 3) 2 (+ 3) 2







不讲语法细节，直接看Haskell 2010

字符是文字游戏的最基础的单元。字符本身其实没有任何意义，需要我们通过游戏规则赋予它们意义。

我们要涉及的游戏规则非常复杂，因此需要分成很多层来分别介绍。现在我们要在字符的基础上建立第一层游戏规则——词法规则。

Haskell中有很多种词汇，我们接下来会一一介绍。一份Haskell源码，在词法层面上看，就是若干各类词汇的拼接。

## 名词



> 以后再介绍如何给标识符指定具体含义。



## 字面值





值得一提的是，字面值其实有没有都无所谓。就算没有预定义的整数，我也可以定义出自然数。不过这个我们以后再说。

（我实际上会把一些内容做修改，比如Haskell 2010标准中True和False作为保留字定义。但是当作字面值理解也没毛病 ）

True和False是预定义的

按照是否需要

- 标识符
- 字面值

把字面值当作特殊的标识符





现在我们介绍Haskell中的第一大词类——标识符（identifier）。虽然叫做“标识符”，但是实际上就是自然语言中的名词性词。







注释——开卷考试中的笔记



> 有的不用空白符分割。但是有的用
>
> 比如3+4和add three four