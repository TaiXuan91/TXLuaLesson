<!doctype html><html><head><meta charset='utf-8'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.4.1/github-markdown.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/default.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.css">
<link rel="stylesheet" href="https://gitcdn.xyz/repo/goessner/mdmath/master/css/texmath.css">
<link rel="stylesheet" href="https://gitcdn.xyz/repo/goessner/mdmath/master/css/vscode-texmath.css">

</head><body class="markdown-body">
<h1>0X13变量与值</h1>
<h2>前置知识</h2>
<ul>
<li>0X10逻辑运算</li>
<li>0X11更复杂的函数</li>
<li>0X12字符串</li>
</ul>
<h2>正文</h2>
<ol>
<li>变量是一个抽象概念。它是存储各种数据值的空间。在源码中，一个变量名就表示一个变量。</li>
<li>Lua中的变量是无类型的(或者说动态类型的)，一个变量可以存储各种各样的值。</li>
<li>值就是程序中要处理的数据。就像我们用阿拉伯数字符号记录数，在程序源码中我们用字符的组合表示一些值。这些字符组合称为字面值。例如：10，0xa这两个都是数字十的字面值。它们表示同一个数字，只是写法不同。</li>
<li>表示逻辑真假的关键字true和false也是字面值。用引号表示的字符串（如'helloworld','This is a sentence'）也是字面值。</li>
<li>很明显，数值、逻辑值和字符串的字面值相差很大。事实上Lua中也确实把它们归为不同的类别。Lua中的变量虽然没有类别，但是值可以分为不同的类别。Lua中共有8种值类型：
<ul>
<li>nil 空值</li>
<li>boolean 逻辑值</li>
<li>number 数字</li>
<li>string 字符串</li>
<li>function 函数</li>
<li>userdata 用户数据</li>
<li>thread 线程</li>
<li>table 表</li>
</ul>
</li>
<li>nil类型只有一个值，也就叫nil。（nil也是一个关键字。）这个值就表示“什么都没有”。虽然0在数字值中，空字符串''在字符串值中，false在逻辑值中都表示类似的意思。但是nil是没有中的没有（有点拗口）。任何一个变量，如果没有被赋值过，就是nil值。而如果给一个变量赋予这个值，也就相当于删除这个变量。假设我们从没定义过ooxx这个变量，就直接用print(ooxx)输出它。会显示nil。</li>
<li>要想判断两个值是否是同一个值，或者判断两个变量存储的值是否相同。可以使用等于判断或不等于判断。在判断时首先会判断两个值的类型是否相同。如果类型不同则值必然不同。如果类型相同再进行进一步的判断：
<blockquote>
<pre><code class="language-lua"><span class="hljs-literal">nil</span>~=<span class="hljs-literal">false</span>
<span class="hljs-literal">nil</span>~=<span class="hljs-string">''</span>
<span class="hljs-number">0</span>~=<span class="hljs-literal">false</span>
<span class="hljs-number">5</span>~=<span class="hljs-string">'5'</span>
<span class="hljs-number">5</span>==<span class="hljs-number">0x5</span>
</code></pre>
</blockquote>
以上判断的结果都是true。</li>
<li>预定义函数rawequal的作用和相等逻辑判断一样。它接受两个参数，当两个参数值相等的时候返回true。
<blockquote>
<pre><code class="language-lua"><span class="hljs-built_in">rawequal</span>(<span class="hljs-string">'mmm'</span>,<span class="hljs-string">'Mmm'</span>)
<span class="hljs-built_in">rawequal</span>(<span class="hljs-string">'mmww'</span>,<span class="hljs-string">'mm'</span>..<span class="hljs-string">'ww'</span>)
</code></pre>
</blockquote>
</li>
<li>有一个预定义函数type可以判断值或变量所存储值的类型。它接收一个参数，用字符串返回参数的值类型。试验以下命令：
<blockquote>
<pre><code class="language-lua"><span class="hljs-built_in">type</span>(<span class="hljs-literal">nil</span>)
<span class="hljs-built_in">type</span>(<span class="hljs-literal">false</span>)
<span class="hljs-built_in">type</span>(<span class="hljs-string">'hello'</span>)
x=<span class="hljs-number">65</span>
<span class="hljs-built_in">type</span>(x)
<span class="hljs-built_in">type</span>(<span class="hljs-number">55</span>)==<span class="hljs-built_in">type</span>(<span class="hljs-number">0x89</span>)
<span class="hljs-built_in">type</span>(<span class="hljs-number">5</span>)==<span class="hljs-string">'number'</span>
</code></pre>
</blockquote>
</li>
</ol>
<h2>后续推荐</h2>
<ul>
<li>0X15类型转换</li>
</ul>

</body></html>