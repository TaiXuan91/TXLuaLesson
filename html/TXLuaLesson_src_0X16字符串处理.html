<!doctype html><html><head><meta charset='utf-8'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.4.1/github-markdown.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/default.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.css">
<link rel="stylesheet" href="https://gitcdn.xyz/repo/goessner/mdmath/master/css/texmath.css">
<link rel="stylesheet" href="https://gitcdn.xyz/repo/goessner/mdmath/master/css/vscode-texmath.css">

</head><body class="markdown-body">
<h1>0X16字符串处理</h1>
<h2>前置知识</h2>
<ul>
<li>0X15类型转换</li>
</ul>
<h2>正文</h2>
<ol>
<li>说明：
<ul>
<li>如果不特殊说明，后续的str，str1，str2等等表示字符串。</li>
<li>如果string开头的函数不能使用，先执行require('string')。</li>
</ul>
</li>
<li>string.lower(str) 返回一个字符串，是把str中的所有字母都替换成小写字母的结果。</li>
<li>string.upper(str) 返回一个字符串，是把str中的所有字符都替换成大写字母的结果。</li>
<li>string.reverse(str) 返回str反转（头尾颠倒）后的结果。</li>
<li>string.len(str) 返回一个整数，是str的长度。</li>
<li>string.rep(str,n) n是一个整数。返回的字符串是str重复n次的结果。
<ul>
<li>string.rep((str,n,sep) sep是一个字符串。有这个参数时，返回的结果中，每两段重复的str之间会夹一个sep作为分隔符。</li>
<li>sep默认为空字符串。</li>
<li>如果n小于等于0，则返回空字符串。</li>
</ul>
</li>
<li>string.sub(str,i,j) i和j是整数。这个函数相当于字符串连接的逆向操作，用于获取字符串str的一个片段（不改变str本身）。
<ul>
<li>首先说明一下Lua中如何计算字在字符串中的索引。不同于C语言等，在Lua中字符串的第一个字符索引就是1。</li>
<li>索引也可以为负数。-1表示倒数第一个字符，-2表示倒数第二个字符。</li>
<li>这个函数会返回从第i个到第j个字符的字符串。（包括第i个和第j个字符。）</li>
<li>如果只给str和i两个参数。j会取默认值-1。</li>
<li>如果i，j相等返回的字符串只有一个字符。</li>
<li>如果i大于j，则返回空字符串。</li>
<li>如果i和j所指的字符位置超出了字符串长度，会自动把它们定位到最近的字符串边界字符上（索引是1或者-1）。</li>
</ul>
</li>
<li>视频演示：字符串处理 <a href="https://www.bilibili.com/video/av15305032/">https://www.bilibili.com/video/av15305032/</a></li>
<li>然后说一下字符串字面值的写法。
<ul>
<li>如果用'作为字符串边界。则字符串内容中不能直接出现单引号本身。（但是可以出现双引号。）</li>
<li>双引号&quot;也可以作为字符串的边界。双引号中间的字符串字面值可以直接出现单引号，但是不能直接出现双引号。
<blockquote>
<pre><code class="language-lua">str=<span class="hljs-string">"I'm a student.I'd like to do..."</span>
</code></pre>
</blockquote>
</li>
<li>单双引号括起来的字符串中都不能直接换行。</li>
</ul>
</li>
<li>Lua还允许方括号的组合用作字符串边界。它们会把所有换行也包括在字符串中。例如:
<blockquote>
<pre><code class="language-lua">str1=<span class="hljs-string">[[hello'
this
is my world]]</span>

str2=<span class="hljs-string">[==[This"" is
another
line]==]</span>
</code></pre>
</blockquote>
个人不推荐使用这些语法。最好还是使用清晰的专用转义字符\n或\r表示换行。关于转义字符，将在下一部分讨论。</li>
</ol>
<h2>后续推荐</h2>
<ul>
<li>0X1A转义字符</li>
</ul>

</body></html>